(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{11:function(e,Vr,Nr){"use strict";(function(r,e){Nr.d(Vr,"a",function(){return Er});var s,t,c=Nr(13),n="warn";(t=s=s||{}).afterCreate="afterCreate",t.afterAttach="afterAttach",t.afterCreationFinalization="afterCreationFinalization",t.beforeDetach="beforeDetach",t.beforeDestroy="beforeDestroy";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function a(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;0<=l;l--)(i=e[l])&&(o=(a<3?i(o):3<a?i(t,r,o):i(t,r))||o);return 3<a&&o&&Object.defineProperty(t,r,o),o}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function f(e){return ce(e,1),pe(e).type}function h(e,t){ce(e,1),Re(),pe(e).applyPatches(je(t))}function d(e,t){void 0===t&&(t=!0),ce(e,1);var r=pe(e);return t?r.snapshot:Ie(r.type.getSnapshot(r,!1))}var y=(Object.defineProperty(v.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var r=this.isAlive;this.aliveAtom&&t!==r&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(v.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new Ve),this._hookSubscribers.register(e,t)}}),Object.defineProperty(v.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(v.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=Object(c.l)("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Me(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(v.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isAlive",{get:function(){return this.state!==re.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isDetaching",{get:function(){return this.state===re.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=Object(c.l)("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(0,this.state===re.CREATED){if(this.parent){if(this.parent.state!==re.FINALIZED)return;this.fireHook(s.afterAttach)}this.state=re.FINALIZED,e&&e()}}}),Object.defineProperty(v.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=re.DEAD}}),Object.defineProperty(v.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(s.beforeDestroy)}}),v);function v(e,t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:re.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=n,this.baseSetParent(t,r)}var g,m=(a(w,g=y),Object.defineProperty(w.prototype,"root",{get:function(){if(!this.parent)throw me("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.parent!==e,n=this.subpath!==t;(r||n)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(w.prototype,"snapshot",{get:function(){return Ie(this.getSnapshot())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(w.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(w.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==re.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(w.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(w.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(w.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(w.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),l([c.j],w.prototype,"die",null),w);function w(e,t,r,n,i){var a=g.call(this,e,t,r,n)||this;Object(c.v)(a);try{a.storedValue=e.createNewInstance(i)}catch(e){throw a.state=re.DEAD,e}return a.state=re.CREATED,a.finalizeCreation(),a}var P,O,j,_=1,S={onError:function(e){throw e}},A=(a(I,P=y),Object.defineProperty(I.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(I.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(I.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){0===this._observableInstanceState&&this.createObservableInstance()}}),Object.defineProperty(I.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,e;this._observableInstanceState=1;for(var r=[],n=this.parent;n&&0===n._observableInstanceState;)r.unshift(n),n=n.parent;try{for(var i=p(r),a=i.next();!a.done;a=i.next()){a.value.createObservableInstanceIfNeeded()}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}var o,l,u=this.type;try{this.storedValue=u.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,u.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=re.DEAD,e}finally{this._isRunningAction=!1}this._observableInstanceState=2,o=this,l="snapshot",Object(c.n)(o,l).trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=ve,this.state=re.CREATED,this.fireHook(s.afterCreate),this.finalizeCreation()}}),Object.defineProperty(I.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(s.beforeDetach);var e=this.state;this.state=re.DETACHING;var t=this.root,r=t.environment,n=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=r,this.identifierCache=n}finally{this.state=e}}}}),Object.defineProperty(I.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e!==this.parent,n=t!==this.subpath;(r||n)&&(r?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(s.afterAttach)):n&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(I.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var r=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof r&&(c.e?Object(c.e)(function(){r.apply(t.storedValue)}):r.apply(this.storedValue))}}),Object.defineProperty(I.prototype,"snapshot",{get:function(){return Ie(this.getSnapshot())},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(I.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(I.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,r;return this._cachedInitialSnapshotCreated||(e=this.type,t=this._childNodes,r=this._initialSnapshot,this._cachedInitialSnapshot=e.processInitialSnapshot(t,r),this._cachedInitialSnapshotCreated=!0),this._cachedInitialSnapshot}}),Object.defineProperty(I.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(I.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=n;if(!this.isAlive&&"ignore"!==t){var r=this._getAssertAliveError(e);switch(t){case"error":throw me(r);case"warn":ze(r)}}}}),Object.defineProperty(I.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",r=e.subpath&&Me(e.subpath)||"",n=e.actionContext||L;n&&"action"!==n.type&&n.parentActionEvent&&(n=n.parentActionEvent);var i,a="";return n&&null!=n.name&&(a=(n&&n.context&&(ce(i=n.context,1),pe(i).path)||t)+"."+n.name+"()"),"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+r+"', Action: '"+a+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(I.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(I.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(ve),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):de(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(I.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(I.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw me("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(I.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(I.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(I.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(I.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var i=this;this.baseFinalizeCreation(function(){var t,e;try{for(var r=p(i.getChildren()),n=r.next();!n.done;n=r.next()){n.value.finalizeCreation()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}i.fireInternalHook(s.afterCreationFinalization)})}}),Object.defineProperty(I.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw me("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(I.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this._applyPatches=$(this.storedValue,"@APPLY_PATCHES",function(e){e.forEach(function(e){var t=We(e.path);he(r,t.slice(0,-1)).applyPatchLocally(t[t.length-1],e)})}),this._applySnapshot=$(this.storedValue,"@APPLY_SNAPSHOT",function(e){if(e!==r.snapshot)return r.type.applySnapshot(r,e)}),Ce(this.storedValue,"$treenode",this),Ce(this.storedValue,"toJSON",fe)}}),Object.defineProperty(I.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==re.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(I.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach(function(e){e.aboutToDie()}),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(I.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach(function(e){e.finalizeDeath()}),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(I.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(I.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(I.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(I.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r,n,i;this._internalEventsHasSubscribers("patch")&&(n=(r=b(function(e){if(!("oldValue"in e))throw me("Patches without `oldValue` field cannot be inversed");return[function(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}(e),function(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}(e)]}(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++){var i=t[n];for(var a in i)e[a]=i[a]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path})),2))[0],i=r[1],this._internalEventsEmit("patch",n,i)),this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(I.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(I.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasDisposer(e))throw me("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)}}),Object.defineProperty(I.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw me("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(I.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;!this.middlewares||0<=(t=this.middlewares.indexOf(e))&&this.middlewares.splice(t,1)}}),Object.defineProperty(I.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(n):this.middlewares=[n],function(){r.removeMiddleware(n)}}}),Object.defineProperty(I.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(I.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this;this._hasSnapshotReaction||(e=Object(c.y)(function(){return t.snapshot},function(e){return t.emitSnapshot(e)},S),this.addDisposer(e),this._hasSnapshotReaction=!0)}}),Object.defineProperty(I.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(I.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return void 0===r&&(r=!1),this._internalEvents||(this._internalEvents=new Ve),this._internalEvents.register(e,t,r)}}),Object.defineProperty(I.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(I.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(I.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._internalEvents&&(t=this._internalEvents).emit.apply(t,u([e],r))}}),Object.defineProperty(I.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(I.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),l([c.j],I.prototype,"createObservableInstance",null),l([c.k],I.prototype,"snapshot",null),l([c.j],I.prototype,"detach",null),l([c.j],I.prototype,"die",null),I);function I(e,t,r,n,i){var a=P.call(this,e,t,r,n)||this;if(Object.defineProperty(a,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++_}),Object.defineProperty(a,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(a,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object(c.v)(a),a.unbox=a.unbox.bind(a),a._initialSnapshot=Ie(i),a.identifierAttribute=e.identifierAttribute,t||(a.identifierCache=new ae),a._childNodes=e.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var o,l=a._initialSnapshot[a.identifierAttribute];if(void 0!==l||(o=a._childNodes[a.identifierAttribute])&&(l=o.value),"string"!=typeof l&&"number"!=typeof l)throw me("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=""+l,a.unnormalizedIdentifier=l}return t?t.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}(j=O=O||{})[j.String=1]="String",j[j.Number=2]="Number",j[j.Boolean=4]="Boolean",j[j.Date=8]="Date",j[j.Literal=16]="Literal",j[j.Array=32]="Array",j[j.Map=64]="Map",j[j.Object=128]="Object",j[j.Frozen=256]="Frozen",j[j.Optional=512]="Optional",j[j.Reference=1024]="Reference",j[j.Identifier=2048]="Identifier",j[j.Late=4096]="Late",j[j.Refinement=8192]="Refinement",j[j.Union=16384]="Union",j[j.Null=32768]="Null",j[j.Undefined=65536]="Undefined",j[j.Integer=131072]="Integer",j[j.Custom=262144]="Custom",j[j.SnapshotProcessor=524288]="SnapshotProcessor";var C,T="cannotDetermine",E=Symbol("$type"),V=(Object.defineProperty(N.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return te(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(N.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw me("unimplemented method")}}),Object.defineProperty(N.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(N.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(be(e)){var r=f(e);return this.isAssignableFrom(r)?ye:X(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(N.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(N.prototype,"Type",{get:function(){throw me("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"TypeWithoutSTN",{get:function(){throw me("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"SnapshotType",{get:function(){throw me("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"CreationType",{get:function(){throw me("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),C=E,l([c.j],N.prototype,"create",null),N);function N(e){Object.defineProperty(this,C,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object(c.v)(this),this.name=e}var D,x=(a(k,D=V),Object.defineProperty(k.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return void 0===e&&(e=this.getDefaultSnapshot()),D.prototype.create.call(this,e,t)}}),Object.defineProperty(k.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(k.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.isDetaching&&(e.snapshot===t||(!(!se(t)||pe(t)!==e)||!(e.type!==this||!Se(t)||se(t)||e.identifierAttribute&&e.identifier!==""+t[e.identifierAttribute])&&(e.applySnapshot(t),!0)))}}),Object.defineProperty(k.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.tryToReconcileNode(e,t))return e.setParent(r,n),e;if(e.die(),se(t)&&this.isAssignableFrom(f(t))){var i=pe(t);return i.setParent(r,n),i}return this.instantiate(r,n,void 0,t)}}),Object.defineProperty(k.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),l([c.j],k.prototype,"create",null),k);function k(e){var t=D.call(this,e)||this;return Object.defineProperty(t,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}var z,R=(a(H,z=V),Object.defineProperty(H.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(H.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(H.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(H.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(r,n,void 0,t);return e.die(),i}}),Object.defineProperty(H.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),H);function H(){return null!==z&&z.apply(this,arguments)||this}function F(e){return"object"==typeof e&&e&&!0===e.isType}function M(e,t){Re()}new Map;Object.defineProperty(U.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(U.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(U.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(U.prototype,"hasFlowsPending",{get:function(){return 0<this.flowsPending},enumerable:!1,configurable:!0});function U(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}var L,W=1;function K(){return W++}function G(e,t){var r=pe(e.context);"action"===e.type&&r.assertAlive({actionContext:e});var n=r._isRunningAction;r._isRunningAction=!0;var i=L;L=e;try{return function(e,t,i){var a=new Z(e,i);if(a.isEmpty)return Object(c.j)(i).apply(null,t.args);var o=null;return function r(e){var t=a.getNextMiddleware(),n=t&&t.handler;if(!n)return Object(c.j)(i).apply(null,e.args);if(!t.includeHooks&&s[e.name])return r(e);return n(e,function(e,t){o=r(e),t&&(o=t(o))},function(e){o=e}),o}(t)}(r,e,t)}finally{L=i,r._isRunningAction=n}}function Y(e){if(e)return"action"===e.type?e:e.parentActionEvent}function $(i,a,o){function e(){var e,t=K(),r=L,n=Y(r);return G({type:"action",name:a,id:t,args:De(arguments),context:i,tree:(ce(e=i,1),pe(e).root.storedValue),rootId:r?r.rootId:t,parentId:r?r.id:0,allParentIds:r?u(r.allParentIds,[r.id]):[],parentEvent:r,parentActionEvent:n},o)}return e._isMSTAction=!0,e}var Z=(Object.defineProperty(B.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e){var t=e[this.inArrayIndex++];return t||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}}),B);function B(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var r=e;r;)r.middlewares&&this.middlewares.push(r.middlewares),r=r.parent}function J(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":se(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function q(e){var t,r=e.value,n=e.context[e.context.length-1].type,i=e.context.map(function(e){return e.path}).filter(function(e){return 0<e.length}).join("/"),a=0<i.length?'at path "/'+i+'" ':"",o=se(r)?"value of type "+pe(r).type.name+":":Ae(r)?"value":"snapshot",l=n&&se(r)&&n.is(pe(r).snapshot);return a+o+" "+J(r)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?F(t=n)&&0<(t.flags&(O.String|O.Number|O.Integer|O.Boolean|O.Date))||Ae(r)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(l?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Q(e,t,r){return e.concat([{path:t,type:r}])}function X(e,t,r){return[{context:e,value:t,message:r}]}function ee(e){return e.reduce(function(e,t){return e.concat(t)},[])}function te(e,t){void 0!==r&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).ENABLE_TYPE_CHECK&&function(e,t){var r=e.validate(t,[{path:"",type:e}]);if(0<r.length)throw me(function(e,t,r){return 0!==r.length?"Error while converting "+function(e){return e.length<280?e:e.substring(0,272)+"......"+e.substring(e.length-8)}(J(t))+" to `"+e.name+"`:\n\n    "+r.map(q).join("\n    "):void 0}(e,t,r))}(e,t)}var re,ne,ie=0,ae=(Object.defineProperty(oe.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(oe.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(oe.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var r=e.identifier;this.cache.has(r)||this.cache.set(r,c.w.array([],ge));var n=this.cache.get(r);if(-1!==n.indexOf(e))throw me("Already registered");n.push(e),t&&this.updateLastCacheModificationPerId(r)}}}),Object.defineProperty(oe.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;Object(c.C)(e.identifierCache.cache).forEach(function(e){return e.forEach(function(e){t.addNodeToCache(e)})})}}),Object.defineProperty(oe.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r;e.identifierAttribute&&(t=e.identifier,(r=this.cache.get(t))&&(r.remove(e),r.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier)))}}),Object.defineProperty(oe.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var o=this,l=new oe,u=e.path;return Object(c.m)(this.cache).forEach(function(e){for(var t=b(e,2),r=t[0],n=t[1],i=!1,a=n.length-1;0<=a;a--)0===n[a].path.indexOf(u)&&(l.addNodeToCache(n[a],!1),n.splice(a,1),i=!0);i&&o.updateLastCacheModificationPerId(r)}),l}}),Object.defineProperty(oe.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){var r=this.cache.get(e);return!!r&&r.some(function(e){return t.isAssignableFrom(e.type)})}}),Object.defineProperty(oe.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){var r=this.cache.get(e);if(!r)return null;var n=r.filter(function(e){return t.isAssignableFrom(e.type)});switch(n.length){case 0:return null;case 1:return n[0];default:throw me("Cannot resolve a reference to type '"+t.name+"' with id: '"+e+"' unambigously, there are multiple candidates: "+n.map(function(e){return e.path}).join(", "))}}}),oe);function oe(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:ie++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:c.w.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:c.w.map()})}function le(e,t,r,n,i){var a=be(i);if(a){if(a.parent)throw me("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+r+"', but it lives already at '"+a.path+"'");return t&&a.setParent(t,r),a}return new A(e,t,r,n,i)}function ue(e,t,r,n,i){return new m(e,t,r,n,i)}function se(e){return!(!e||!e.$treenode)}function ce(e,t){Re()}function pe(e){if(!se(e))throw me("Value "+e+" is no MST Node");return e.$treenode}function be(e){return e&&e.$treenode||null}function fe(){return pe(this).snapshot}(ne=re=re||{})[ne.INITIALIZING=0]="INITIALIZING",ne[ne.CREATED=1]="CREATED",ne[ne.FINALIZED=2]="FINALIZED",ne[ne.DETACHING=3]="DETACHING",ne[ne.DEAD=4]="DEAD";function he(e,t,r){void 0===r&&(r=!0);for(var n=e,i=0;i<t.length;i++){var a=t[i];if(".."===a){if(n=n.parent)continue}else{if("."===a)continue;if(n){if(n instanceof m)try{var o=n.value;se(o)&&(n=pe(o))}catch(e){if(!r)return;throw e}if(n instanceof A)if(n.getChildType(a)&&(n=n.getChildNode(a)))continue}}if(r)throw me("Could not resolve '"+a+"' in path '"+(Le(t.slice(0,i))||"/")+"' while resolving '"+Le(t)+"'");return}return n}function de(r){if(!r)return ye;var e=Object.keys(r);if(!e.length)return ye;var n=new Array(e.length);return e.forEach(function(e,t){n[t]=r[e]}),n}var ye=Object.freeze([]),ve=Object.freeze({}),ge="string"==typeof c.a?{deep:!1}:{deep:!1,proxy:!1};function me(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function we(e){return e}Object.freeze(ge);var Pe=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Oe(e){return Array.isArray(e)||Object(c.r)(e)}function je(e){return e?Oe(e)?e:[e]:ye}function _e(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function Se(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function Ae(e,t){return void 0===t&&(t=!0),null==e||!!("string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date)}function Ie(e){return e}function Ce(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}var Te=(Object.defineProperty(Ee.prototype,"hasSubscribers",{get:function(){return 0<this.handlers.length},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){r.unregister(e)}}}),Object.defineProperty(Ee.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0<=this.handlers.indexOf(e)}}),Object.defineProperty(Ee.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);0<=t&&this.handlers.splice(t,1)}}),Object.defineProperty(Ee.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(Ee.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.handlers.slice().forEach(function(e){return e.apply(void 0,u(t))})}}),Ee);function Ee(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}var Ve=(Object.defineProperty(Ne.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(Ne.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return void 0===r&&(r=!1),this.eventHandlers||(this.eventHandlers={}),(this.eventHandlers[e]||(this.eventHandlers[e]=new Te)).register(t,r)}}),Object.defineProperty(Ne.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];return!!r&&r.has(t)}}),Object.defineProperty(Ne.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];r&&r.unregister(t)}}),Object.defineProperty(Ne.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(Ne.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(Ne.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.eventHandlers&&this.eventHandlers[e];n&&n.emit.apply(n,u(t))}}),Ne);function Ne(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}function De(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}function xe(e,t){return 0===e.indexOf(t)}var ke=function(e,t){};function ze(e){console.warn(new Error("[mobx-state-tree] "+e))}function Re(){0}function He(){Re()}function Fe(e,t,r){void 0===r&&(r=!0),Re(),r||Re()}function Me(e){return"number"==typeof e==!0?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ue(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Le(e){if(0===e.length)return"";function t(e){return e.map(Me).join("/")}return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}function We(e){var t=e.split("/").map(Ue);if(!(""===e||"."===e||".."===e||xe(e,"/")||xe(e,"./")||xe(e,"../")))throw me("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}ke.ids={};var Ke,Ge=(a(Ye,Ke=V),Object.defineProperty(Ye.prototype,"flags",{get:function(){return this._subtype.flags|O.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(Ye.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(Ye.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(Ye.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(Ye.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!function(e,t){for(var r,n,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];try{for(var o=p(i),l=o.next();!l.done;l=o.next()){var u=l.value;e[u]=t[u].bind(t)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}(e.type,this,"isAssignableFrom","create");var r=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(r.call(e))}}}),Object.defineProperty(Ye.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=se(n)?n:this.preProcessSnapshot(n),a=this._subtype.instantiate(e,t,r,i);return this._fixNode(a),a}}),Object.defineProperty(Ye.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this._subtype.reconcile(e,se(t)?t:this.preProcessSnapshot(t),r,n);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(Ye.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var r=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(r):r}}),Object.defineProperty(Ye.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.preProcessSnapshot(e);return this._subtype.validate(r,t)}}),Object.defineProperty(Ye.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(Ye.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=F(e)?this._subtype:se(e)?d(e,!1):this.preProcessSnapshot(e);return 0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Ye);function Ye(e,t,r){var n=Ke.call(this,r||e.name)||this;return Object.defineProperty(n,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(n,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:t}),n}var $e,Ze,Be="Map.put can only be used to store complex values that have an identifier type attribute";(Ze=$e=$e||{})[Ze.UNKNOWN=0]="UNKNOWN",Ze[Ze.YES=1]="YES",Ze[Ze.NO=2]="NO";var Je,qe=(a(Qe,Je=c.b),Object.defineProperty(Qe.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Je.prototype.get.call(this,""+e)}}),Object.defineProperty(Qe.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Je.prototype.has.call(this,""+e)}}),Object.defineProperty(Qe.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Je.prototype.delete.call(this,""+e)}}),Object.defineProperty(Qe.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Je.prototype.set.call(this,""+e,t)}}),Object.defineProperty(Qe.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw me("Map.put cannot be used to set empty values");if(se(e)){var t=pe(e);if(0,null===t.identifier)throw me(Be);return this.set(t.identifier,e),e}if(Se(e)){var r=pe(this),n=r.type;if(n.identifierMode!==$e.YES)throw me(Be);var i=e[n.mapIdentifierAttribute];if(!Ar(i)){var a=this.put(n.getChildType().create(e,r.environment));return this.put(d(a))}var o=""+i;return this.set(o,e),this.get(o)}throw me("Map.put can only be used to store complex values")}}),Qe);function Qe(e){return Je.call(this,e,c.w.ref.enhancer)||this}var Xe,et=(a(tt,Xe=x),Object.defineProperty(tt.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=0<this.hookInitializers.length?this.hookInitializers.concat(e):[e];return new tt(this.name,this._subType,t)}}),Object.defineProperty(tt.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._determineIdentifierMode(),le(this,e,t,r,n)}}),Object.defineProperty(tt.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this.identifierMode===$e.UNKNOWN&&(e=[],function e(t,r){var n,i,a=t.getSubTypes();if(a!==T){if(a){var o=je(a);try{for(var l=p(o),u=l.next();!u.done;u=l.next())if(!e(u.value,r))return}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}return t instanceof ht&&r.push(t),1}}(this._subType,e)&&(t=void 0,e.forEach(function(e){if(e.identifierAttribute){if(t&&t!==e.identifierAttribute)throw me("The objects in a map should all have the same identifier attribute, expected '"+t+"', but child of type '"+e.name+"' declared attribute '"+e.identifierAttribute+"' as identifier");t=e.identifierAttribute}}),t?(this.identifierMode=$e.YES,this.mapIdentifierAttribute=t):this.identifierMode=$e.NO))}}),Object.defineProperty(tt.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){void 0===r&&(r={});var n=t.type._subType,i={};return Object.keys(r).forEach(function(e){i[e]=n.instantiate(t,e,void 0,r[e])}),i}}),Object.defineProperty(tt.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new qe(e)}}),Object.defineProperty(tt.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i){Object(c.i)(i,e.unbox),e.type.hookInitializers.forEach(function(e){var n=e(i);Object.keys(n).forEach(function(e){var t=n[e],r=$(i,e,t);Ce(i,e,r)})}),Object(c.p)(i,this.willChange),Object(c.x)(i,this.didChange)}}),Object.defineProperty(tt.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(tt.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Object(c.C)(e.storedValue)}}),Object.defineProperty(tt.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e.storedValue.get(""+t);if(!r)throw me("Not a child "+t);return r}}),Object.defineProperty(tt.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=pe(e.object),r=e.name;t.assertWritable({subpath:r});var n=t.type,i=n._subType;switch(e.type){case"update":var a=e.newValue;if(a===e.object.get(r))return null;te(i,a),e.newValue=i.reconcile(t.getChildNode(r),e.newValue,t,r),n.processIdentifier(r,e.newValue);break;case"add":te(i,e.newValue),e.newValue=i.instantiate(t,r,void 0,e.newValue),n.processIdentifier(r,e.newValue)}return e}}),Object.defineProperty(tt.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===$e.YES&&t instanceof A){var r=t.identifier;if(r!==e)throw me("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+r+"', but expected: '"+e+"'")}}}),Object.defineProperty(tt.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach(function(e){t[e.subpath]=e.snapshot}),t}}),Object.defineProperty(tt.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r={};return Object.keys(t).forEach(function(e){r[e]=t[e].getSnapshot()}),r}}),Object.defineProperty(tt.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=pe(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Me(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Me(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var r=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Me(e.name),oldValue:r},t)}}}),Object.defineProperty(tt.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue;switch(r.op){case"add":case"replace":n.set(t,r.value);break;case"remove":n.delete(t)}}}),Object.defineProperty(tt.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){te(this,t);var r=e.storedValue,n={};if(Array.from(r.keys()).forEach(function(e){n[e]=!1}),t)for(var i in t)r.set(i,t[i]),n[""+i]=!0;Object.keys(n).forEach(function(e){!1===n[e]&&r.delete(e)})}}),Object.defineProperty(tt.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(tt.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){var n=this;return _e(t)?ee(Object.keys(t).map(function(e){return n._subType.validate(t[e],Q(r,e,n._subType))})):X(r,t,"Value is not a plain object")}}),Object.defineProperty(tt.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ve}}),Object.defineProperty(tt.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),l([c.j],tt.prototype,"applySnapshot",null),tt);function tt(e,t,r){void 0===r&&(r=[]);var n=Xe.call(this,e)||this;return Object.defineProperty(n,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:$e.UNKNOWN}),Object.defineProperty(n,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Map}),Object.defineProperty(n,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),n._determineIdentifierMode(),n.hookInitializers=r,Object(c.v)(n),n}var rt,nt=(a(it,rt=x),Object.defineProperty(it.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=0<this.hookInitializers.length?this.hookInitializers.concat(e):[e];return new it(this.name,this._subType,t)}}),Object.defineProperty(it.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return le(this,e,t,r,n)}}),Object.defineProperty(it.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){void 0===e&&(e=[]);var i=n.type._subType,a={};return e.forEach(function(e,t){var r=""+t;a[r]=i.instantiate(n,r,void 0,e)}),a}}),Object.defineProperty(it.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return c.w.array(de(e),ge)}}),Object.defineProperty(it.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i){Object(c.h)(i).dehancer=e.unbox,e.type.hookInitializers.forEach(function(e){var n=e(i);Object.keys(n).forEach(function(e){var t=n[e],r=$(i,e,t);Ce(i,e,r)})}),Object(c.p)(i,this.willChange),Object(c.x)(i,this.didChange)}}),Object.defineProperty(it.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(it.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(it.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=Number(t);if(r<e.storedValue.length)return e.storedValue[r];throw me("Not a child: "+t)}}),Object.defineProperty(it.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=pe(e.object);t.assertWritable({subpath:""+e.index});var r=t.type._subType,n=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=at(t,r,[n[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var a=e.index,o=e.removedCount,l=e.added,u=at(t,r,n.slice(a,a+o),l,l.map(function(e,t){return a+t}));if(!u)return null;e.added=u;for(var s=a+o;s<n.length;s++)n[s].setParent(t,""+(s+l.length-o))}return e}}),Object.defineProperty(it.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map(function(e){return e.snapshot})}}),Object.defineProperty(it.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=[];return Object.keys(t).forEach(function(e){r.push(t[e].getSnapshot())}),r}}),Object.defineProperty(it.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=pe(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var r=e.removedCount-1;0<=r;r--)t.emitPatch({op:"remove",path:""+(e.index+r),oldValue:e.removed[r].snapshot},t);for(r=0;r<e.addedCount;r++)t.emitPatch({op:"add",path:""+(e.index+r),value:t.getChildNode(""+(e.index+r)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(it.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue,i="-"===t?n.length:Number(t);switch(r.op){case"replace":n[i]=r.value;break;case"add":n.splice(i,0,r.value);break;case"remove":n.splice(i,1)}}}),Object.defineProperty(it.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){te(this,t),e.storedValue.replace(t)}}),Object.defineProperty(it.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(it.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var n=this;return Oe(e)?ee(e.map(function(e,t){return n._subType.validate(e,Q(r,""+t,n._subType))})):X(r,e,"Value is not an array")}}),Object.defineProperty(it.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ye}}),Object.defineProperty(it.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),l([c.j],it.prototype,"applySnapshot",null),it);function it(e,t,r){void 0===r&&(r=[]);var n=rt.call(this,e)||this;return Object.defineProperty(n,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Array}),Object.defineProperty(n,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object(c.v)(n),n.hookInitializers=r,n}function at(e,t,r,n,i){for(var a,o=!0,l=0;;l++){var u=l<=n.length-1,s=r[l],c=u?n[l]:void 0,p=""+i[l];if(((a=c)instanceof m||a instanceof A)&&(c=c.storedValue),!s&&!u)break;if(u)if(s)if(lt(s,c))r[l]=ot(t,e,p,c,s);else{for(var b=void 0,f=l;f<r.length;f++)if(lt(r[f],c)){b=r.splice(f,1)[0];break}o=!1;h=ot(t,e,p,c,b);r.splice(l,0,h)}else{if(se(c)&&pe(c).parent===e)throw me("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+p+"', but it lives already at '"+pe(c).path+"'");o=!1;var h=ot(t,e,p,c);r.splice(l,0,h)}else o=!1,r.splice(l,1),s instanceof A&&s.createObservableInstanceIfNeeded(),s.die(),l--}return o?null:r}function ot(t,r,n,i,a){te(t,i);var e=function(){if(se(i)){var e=pe(i);if(e.assertAlive(ve),null!==e.parent&&e.parent===r)return e.setParent(r,n),e}return a?t.reconcile(a,i,r,n):t.instantiate(r,n,void 0,i)}();return a&&a!==e&&(a instanceof A&&a.createObservableInstanceIfNeeded(),a.die()),e}function lt(e,t){if(e.isAlive){if(se(t)){var r=pe(t);return r.isAlive&&r===e}return e.snapshot===t||e instanceof A&&null!==e.identifier&&e.identifierAttribute&&_e(t)&&e.identifier===""+t[e.identifierAttribute]&&e.type.is(t)}}var ut="preProcessSnapshot",st="postProcessSnapshot";function ct(){return pe(this).toString()}var pt={name:"AnonymousModel",properties:{},initializers:ye};function bt(e){return Object.keys(e).reduce(function(e,t){var r,n,i;if(t in s)throw me("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var a=Object.getOwnPropertyDescriptor(e,t);if("get"in a)throw me("Getters are not supported as properties. Please use views instead");var o=a.value;if(null==o)throw me("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(Ae(o))return Object.assign({},e,((r={})[t]=Lt(function(e){switch(typeof e){case"string":return wt;case"number":return Pt;case"boolean":return jt;case"object":if(e instanceof Date)return It}throw me("Cannot determine primitive type from value "+e)}(o),o),r));if(o instanceof et)return Object.assign({},e,((n={})[t]=Lt(o,{}),n));if(o instanceof nt)return Object.assign({},e,((i={})[t]=Lt(o,[]),i));if(F(o))return e;throw me("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+o+"' ("+typeof o+")")},e)}var ft,ht=(a(dt,ft=x),Object.defineProperty(dt.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=void 0;return this.forAllProps(function(e,t){if(t.flags&O.Identifier){if(r)throw me("Cannot define property '"+e+"' as object identifier, property '"+r+"' is already defined as identifier property");r=e}}),r}}),Object.defineProperty(dt.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new dt({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(dt.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=this;return this.cloneAndEnhance({initializers:[function(e){return r.instantiateActions(e,t(e)),e}]})}}),Object.defineProperty(dt.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(l,u){if(!_e(u))throw me("actions initializer should return a plain object containing actions");Object.keys(u).forEach(function(e){if(e===ut)throw me("Cannot define action '"+ut+"', it should be defined using 'type.preProcessSnapshot(fn)' instead");if(e===st)throw me("Cannot define action '"+st+"', it should be defined using 'type.postProcessSnapshot(fn)' instead");var t,r=u[e],n=l[e];e in s&&n&&(t=r,r=function(){n.apply(null,arguments),t.apply(null,arguments)});var i=r.$mst_middleware,a=r.bind(u);a.$mst_middleware=i;var o=$(l,e,a);u[e]=o,Ce(l,e,o)})}}),Object.defineProperty(dt.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=this;if("function"!=typeof t)throw me("You passed an "+typeof t+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(e){return r.instantiateVolatileState(e,t(e)),e}]})}}),Object.defineProperty(dt.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!_e(t))throw me("volatile state initializer should return a plain object containing state");Object(c.A)(e,t)}}),Object.defineProperty(dt.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(l){var u=this;return this.cloneAndEnhance({initializers:[function(e){var t=l(e),r=t.actions,n=t.views,i=t.state,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(t,["actions","views","state"]);for(var o in a)throw me("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+o+"'");return i&&u.instantiateVolatileState(e,i),n&&u.instantiateViews(e,n),r&&u.instantiateActions(e,r),e}]})}}),Object.defineProperty(dt.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=this;return this.cloneAndEnhance({initializers:[function(e){return r.instantiateViews(e,t(e)),e}]})}}),Object.defineProperty(dt.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(i,a){if(!_e(a))throw me("views initializer should return a plain object containing views");Object.keys(a).forEach(function(e){var t,r,n=Object.getOwnPropertyDescriptor(a,e);if("get"in n){Object(c.q)(i,e)?((r=Object(c.h)(i,e)).derivation=n.get,r.scope=i,n.set&&(r.setter=Object(c.j)(r.name+"-setter",n.set))):(Object.defineProperty(i,e,n),Object(c.v)(i,((t={})[e]=c.k,t)))}else{if("function"!=typeof n.value)throw me("A view member should either be a function or getter based property");Ce(i,e,n.value)}})}}),Object.defineProperty(dt.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=se(n)?n:this.applySnapshotPreProcessor(n);return le(this,e,t,r,i)}}),Object.defineProperty(dt.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){void 0===n&&(n={});var e=r.type,i={};return e.forAllProps(function(e,t){i[e]=t.instantiate(r,e,void 0,n[e])}),i}}),Object.defineProperty(dt.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return c.w.object(e,ve,ge)}}),Object.defineProperty(dt.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){Ce(r,"toString",ct),this.forAllProps(function(e){Object(c.i)(r,e,t.unbox)}),this.initializers.reduce(function(e,t){return t(e)},r),Object(c.p)(r,this.willChange),Object(c.x)(r,this.didChange)}}),Object.defineProperty(dt.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=pe(t.object),n=t.name;r.assertWritable({subpath:n});var i=r.type.properties[n];return i&&(te(i,t.newValue),t.newValue=i.reconcile(r.getChildNode(n),t.newValue,r,n)),t}}),Object.defineProperty(dt.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r=e,n=pe(r.object);n.type.properties[r.name]&&(t=r.oldValue?r.oldValue.snapshot:void 0,n.emitPatch({op:"replace",path:Me(r.name),value:r.newValue.snapshot,oldValue:t},n))}}),Object.defineProperty(dt.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=this,n=[];return this.forAllProps(function(e){n.push(r.getChildNode(t,e))}),n}}),Object.defineProperty(dt.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(t in this.properties))throw me("Not a value property: "+t);var r=Object(c.h)(e.storedValue,t).raw();if(!r)throw me("Node not available for property "+t);return r}}),Object.defineProperty(dt.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var n=this;void 0===e&&(e=!0);var i={};return this.forAllProps(function(e,t){Object(c.n)(r.storedValue,e).reportObserved(),i[e]=n.getChildNode(r,e).snapshot}),e?this.applySnapshotPostProcessor(i):i}}),Object.defineProperty(dt.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r={};return Object.keys(t).forEach(function(e){r[e]=t[e].getSnapshot()}),this.applySnapshotPostProcessor(r)}}),Object.defineProperty(dt.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){if("replace"!==r.op&&"add"!==r.op)throw me("object does not support operation "+r.op);e.storedValue[t]=r.value}}),Object.defineProperty(dt.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){var r=this.applySnapshotPreProcessor(e);te(this,r),this.forAllProps(function(e){t.storedValue[e]=r[e]})}}),Object.defineProperty(dt.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(dt.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(dt.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Fe(),this.properties[e]}}),Object.defineProperty(dt.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,n=this.applySnapshotPreProcessor(e);return _e(n)?ee(this.propertyNames.map(function(e){return r.properties[e].validate(n[e],Q(t,e,r.properties[e]))})):X(t,n,"Value is not a plain object")}}),Object.defineProperty(dt.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=this;this.propertyNames.forEach(function(e){return t(e,r.properties[e])})}}),Object.defineProperty(dt.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;return"{ "+this.propertyNames.map(function(e){return e+": "+t.properties[e].describe()}).join("; ")+" }"}}),Object.defineProperty(dt.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ve}}),Object.defineProperty(dt.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),l([c.j],dt.prototype,"applySnapshot",null),dt);function dt(e){var n=ft.call(this,e.name||pt.name)||this;return Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Object}),Object.defineProperty(n,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return n.cloneAndEnhance({name:e})}}),Object.defineProperty(n,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return n.cloneAndEnhance({properties:e})}}),Object.defineProperty(n,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var r=n.preProcessor;return r?n.cloneAndEnhance({preProcessor:function(e){return r(t(e))}}):n.cloneAndEnhance({preProcessor:t})}}),Object.defineProperty(n,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var r=n.postProcessor;return r?n.cloneAndEnhance({postProcessor:function(e){return t(r(e))}}):n.cloneAndEnhance({postProcessor:t})}}),Object(c.v)(n),Object.assign(n,pt,e),n.properties=bt(n.properties),Ie(n.properties),n.propertyNames=Object.keys(n.properties),n.identifierAttribute=n._getIdentifierAttribute(),n}function yt(e){return F(e)&&0<(e.flags&O.Object)}var vt,gt=(a(mt,vt=R),Object.defineProperty(mt.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(mt.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return ue(this,e,t,r,n)}}),Object.defineProperty(mt.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(mt.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Ae(e)&&this.checker(e)?ye:X(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),mt);function mt(e,t,r,n){void 0===n&&(n=we);var i=vt.call(this,e)||this;return Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"checker",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:n}),i.flags=t,i}var wt=new gt("string",O.String,function(e){return"string"==typeof e}),Pt=new gt("number",O.Number,function(e){return"number"==typeof e}),Ot=new gt("integer",O.Integer,function(e){return Pe(e)}),jt=new gt("boolean",O.Boolean,function(e){return"boolean"==typeof e}),_t=new gt("null",O.Null,function(e){return null===e}),St=new gt("undefined",O.Undefined,function(e){return void 0===e}),At=new gt("Date",O.Date,function(e){return"number"==typeof e||e instanceof Date},function(e){return e instanceof Date?e:new Date(e)});At.getSnapshot=function(e){return e.storedValue.getTime()};var It=At;var Ct,Tt=(a(Et,Ct=R),Object.defineProperty(Et.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return ue(this,e,t,r,n)}}),Object.defineProperty(Et.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(Et.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Ae(e)&&e===this.value?ye:X(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),Et);function Et(e){var t=Ct.call(this,JSON.stringify(e))||this;return Object.defineProperty(t,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Literal}),t.value=e,t}function Vt(e){return Re(),new Tt(e)}var Nt,Dt=(a(xt,Nt=V),Object.defineProperty(xt.prototype,"flags",{get:function(){return this._subtype.flags|O.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(xt.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(xt.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(xt.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(xt.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this._subtype.validate(e,t);if(0<r.length)return r;var n=se(e)?pe(e).snapshot:e;return this._predicate(n)?ye:X(t,e,this._message(e))}}),Object.defineProperty(xt.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,t,r,n)}}),Object.defineProperty(xt.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),xt);function xt(e,t,r,n){var i=Nt.call(this,e)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"_message",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}var kt,zt=(a(Rt,kt=V),Object.defineProperty(Rt.prototype,"flags",{get:function(){var t=O.Union;return this._types.forEach(function(e){t|=e.flags}),t},enumerable:!1,configurable:!0}),Object.defineProperty(Rt.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this._types.some(function(e){return e.isAssignableFrom(t)})}}),Object.defineProperty(Rt.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map(function(e){return e.describe()}).join(" | ")+")"}}),Object.defineProperty(Rt.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(n,void 0);if(!i)throw me("No matching type for union "+this.describe());return i.instantiate(e,t,r,n)}}),Object.defineProperty(Rt.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(t,e.type);if(!i)throw me("No matching type for union "+this.describe());return i.reconcile(e,t,r,n)}}),Object.defineProperty(Rt.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return this._dispatcher?this._dispatcher(t):r?r.is(t)?r:this._types.filter(function(e){return e!==r}).find(function(e){return e.is(t)}):this._types.find(function(e){return e.is(t)})}}),Object.defineProperty(Rt.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var r=[],n=0,i=0;i<this._types.length;i++){var a=this._types[i].validate(e,t);if(0===a.length){if(this._eager)return ye;n++}else r.push(a)}return 1===n?ye:X(t,e,"No type is applicable for the union").concat(ee(r))}}),Object.defineProperty(Rt.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),Rt);function Rt(e,t,r){var n=kt.call(this,e)||this;return Object.defineProperty(n,"_types",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),r=o({eager:!0,dispatcher:void 0},r),n._dispatcher=r.dispatcher,r.eager||(n._eager=!1),n}function Ht(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=F(e)?void 0:e,i=F(e)?u([e],t):t,a="("+i.map(function(e){return e.name}).join(" | ")+")";return new zt(a,i,n)}var Ft,Mt=(a(Ut,Ft=V),Object.defineProperty(Ut.prototype,"flags",{get:function(){return this._subtype.flags|O.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(Ut.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(Ut.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(0<=this.optionalValues.indexOf(n)){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,r,i)}return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(Ut.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),r,n)}}),Object.defineProperty(Ut.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&te(this,e),e}}),Object.defineProperty(Ut.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return 0<=this.optionalValues.indexOf(e)?ye:this._subtype.validate(e,t)}}),Object.defineProperty(Ut.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(Ut.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Ut);function Ut(e,t,r){var n=Ft.call(this,e.name)||this;return Object.defineProperty(n,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(n,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:r}),n}function Lt(e,t,r){return function(e,t){if("function"!=typeof t&&se(t))throw me("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");M(e,1)}(e,t),new Mt(e,t,r||Wt)}var Wt=[void 0];var Kt=Lt(St,void 0),Gt=Lt(_t,null);function Yt(e){return M(e,1),Ht(e,Kt)}var $t,Zt=(a(Bt,$t=V),Object.defineProperty(Bt.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|O.Late},enumerable:!1,configurable:!0}),Object.defineProperty(Bt.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw me("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(Bt.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).instantiate(e,t,r,n)}}),Object.defineProperty(Bt.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).reconcile(e,t,r,n)}}),Object.defineProperty(Bt.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(Bt.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.getSubType(!1);return r?r.validate(e,t):ye}}),Object.defineProperty(Bt.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(Bt.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e||T}}),Bt);function Bt(e,t){var r=$t.call(this,e)||this;return Object.defineProperty(r,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}var Jt,qt=(a(Qt,Jt=R),Object.defineProperty(Qt.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(Qt.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return ue(this,e,t,r,n)}}),Object.defineProperty(Qt.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return"function"==typeof e?X(t,e,"Value is not serializable and cannot be frozen"):this.subType?this.subType.validate(e,t):ye}}),Qt);function Qt(e){var t=Jt.call(this,e?"frozen("+e.name+")":"frozen")||this;return Object.defineProperty(t,"subType",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Frozen}),t}var Xt=new qt;var er=(Object.defineProperty(tr.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=""+this.identifier,r=e.root,n=r.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==n){var i=this.targetType,a=r.identifierCache.resolve(i,t);if(!a)throw new nr("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:a,lastCacheModification:n}}}}),Object.defineProperty(tr.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),tr);function tr(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ar(e))this.identifier=e;else{if(!se(e))throw me("Can only store references to tree nodes or identifiers, got: '"+e+"'");var r=pe(e);if(!r.identifierAttribute)throw me("Can only store references with a defined identifier attribute.");var n=r.unnormalizedIdentifier;if(null==n)throw me("Can only store references to tree nodes with a defined identifier.");this.identifier=n}}var rr,nr=(a(ir,rr=Error),ir);function ir(e){var t=rr.call(this,e)||this;return Object.setPrototypeOf(t,ir.prototype),t}var ar,or=(a(lr,ar=R),Object.defineProperty(lr.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(lr.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(lr.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Ar(e)?ye:X(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(lr.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i,a=t.parent;a&&a.isAlive&&((i=a.storedValue)&&this.onInvalidated({cause:e,parent:i,invalidTarget:n?n.storedValue:void 0,invalidId:r,replaceRef:function(e){h(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){yt(a.type)?this.replaceRef(void 0):h(t.root.storedValue,{op:"remove",path:t.path})}}))}}),Object.defineProperty(lr.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var a=this,e=this.getValue(n);if(e){var o=pe(e),t=function(e,t){var r=function(e){switch(e){case s.beforeDestroy:return"destroy";case s.beforeDetach:return"detach";default:return}}(t);r&&a.fireInvalidated(r,n,i,o)},r=o.registerHook(s.beforeDetach,t),l=o.registerHook(s.beforeDestroy,t);return function(){r(),l()}}}}),Object.defineProperty(lr.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,a){var o,e,l=this;this.onInvalidated&&(n.registerHook(s.beforeDestroy,function(){o&&o()}),e=function(e){o&&o();var t=n.parent,r=t&&t.storedValue;t&&t.isAlive&&r&&((a?!!a.get(i,r):n.root.identifierCache.has(l.targetType,""+i))?o=l.addTargetNodeWatcher(n,i):e||l.fireInvalidated("invalidSnapshotReference",n,i,null))},n.state===re.FINALIZED?e(!0):(n.isRoot||n.root.registerHook(s.afterCreationFinalization,function(){n.parent&&n.parent.createObservableInstanceIfNeeded()}),n.registerHook(s.afterAttach,function(){e(!1)})))}}),lr);function lr(e,t){var r=ar.call(this,"reference("+e.name+")")||this;return Object.defineProperty(r,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(r,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Reference}),r}var ur,sr=(a(cr,ur=or),Object.defineProperty(cr.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(cr.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(cr.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i,a=se(n)?(ce(i=n,1),pe(i).identifier):n,o=new er(n,this.targetType),l=ue(this,e,t,r,o);return o.node=l,this.watchTargetNodeForInvalidations(l,a,void 0),l}}),Object.defineProperty(cr.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this){var i=se(t),a=e.storedValue;if(!i&&a.identifier===t||i&&a.resolvedValue===t)return e.setParent(r,n),e}var o=this.instantiate(r,n,void 0,t);return e.die(),o}}),cr);function cr(e,t){return ur.call(this,e,t)||this}var pr,br=(a(fr,pr=or),Object.defineProperty(fr.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(fr.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(fr.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=se(n)?this.options.set(n,e?e.storedValue:null):n,a=ue(this,e,t,r,i);return this.watchTargetNodeForInvalidations(a,i,this.options),a}}),Object.defineProperty(fr.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=se(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(r,n),e;var a=this.instantiate(r,n,void 0,i);return e.die(),a}}),fr);function fr(e,t,r){var n=pr.call(this,e,r)||this;return Object.defineProperty(n,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),n}function hr(e,t){M(e,1);var r=t||void 0,n=t?t.onInvalidated:void 0;return r&&(r.get||r.set)?new br(e,{get:r.get,set:r.set},n):new sr(e,n)}var dr,yr=(a(vr,dr=R),Object.defineProperty(vr.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!(e&&e.type instanceof ht))throw me("Identifier types can only be instantiated as direct child of a model type");return ue(this,e,t,r,n)}}),Object.defineProperty(vr.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(e.storedValue!==t)throw me("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(r,n),e}}),Object.defineProperty(vr.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?X(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):ye}}),vr);function vr(e,t){var r=dr.call(this,e)||this;return Object.defineProperty(r,"validType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Identifier}),r}var gr,mr=(a(wr,gr=yr),Object.defineProperty(wr.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),wr);function wr(){var e=gr.call(this,"identifier","string")||this;return Object.defineProperty(e,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Identifier}),e}var Pr,Or=(a(jr,Pr=yr),Object.defineProperty(jr.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(jr.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),jr);function jr(){return Pr.call(this,"identifierNumber","number")||this}var _r=new mr,Sr=new Or;function Ar(e){return"string"==typeof e||"number"==typeof e}var Ir,Cr=(a(Tr,Ir=R),Object.defineProperty(Tr.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(Tr.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return ye;var r=this.options.getValidationMessage(e);return r?X(t,e,"Invalid value for type '"+this.name+"': "+r):ye}}),Object.defineProperty(Tr.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(Tr.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.options.isTargetType(n)?n:this.options.fromSnapshot(n,e&&e.root.environment);return ue(this,e,t,r,i)}}),Object.defineProperty(Tr.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=!this.options.isTargetType(t);if(!e.isDetaching&&(e.type===this&&(i?t===e.snapshot:t===e.storedValue)))return e.setParent(r,n),e;var a=i?this.options.fromSnapshot(t,r.root.environment):t,o=this.instantiate(r,n,void 0,a);return e.die(),o}}),Tr);function Tr(e){var t=Ir.call(this,e.name)||this;return Object.defineProperty(t,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:O.Custom}),t}var Er={enumeration:function(e,t){var r="string"==typeof e?t:e,n=Ht.apply(void 0,u(r.map(function(e){return Vt(""+e)})));return"string"==typeof e&&(n.name=e),n},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0]?e.shift():"AnonymousModel",n=e.shift()||{};return new ht({name:r,properties:n})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0],n=r?e[0]:"AnonymousModel";return r&&e.shift(),e.reduce(function(t,r){return t.cloneAndEnhance({name:t.name+"_"+r.name,properties:r.properties,initializers:r.initializers,preProcessor:function(e){return r.applySnapshotPreProcessor(t.applySnapshotPreProcessor(e))},postProcessor:function(e){return r.applySnapshotPostProcessor(t.applySnapshotPostProcessor(e))}})}).named(n)},custom:function(e){return new Cr(e)},reference:hr,safeReference:function(e,t){var r=hr(e,o(o({},t),{onInvalidated:function(e){e.removeRef()}}));return t&&!1===t.acceptsUndefined?r:Yt(r)},union:Ht,optional:Lt,literal:Vt,maybe:Yt,maybeNull:function(e){return M(e,1),Ht(e,Gt)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0]?e.shift():F(e[0])?e[0].name:null,n=e[0],i=e[1],a=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return M(n,[1,2]),Fe(),He(),He(),new Dt(r,n,i,a)},string:wt,boolean:jt,number:Pt,integer:Ot,Date:It,map:function(e){return new et("map<string, "+e.name+">",e)},array:function(e){return M(e,1),new nt(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?Xt:F(e)?new qt(e):Lt(Xt,e)},identifier:_r,identifierNumber:Sr,late:function(e,t){var r="string"==typeof e?e:"late("+e.toString()+")",n="string"==typeof e?t:e;return new Zt(r,n)},undefined:St,null:_t,snapshotProcessor:function(e,t,r){return M(e,1),new Ge(e,t,r)}}}).call(this,Nr(239),Nr(631).setImmediate)}}]);